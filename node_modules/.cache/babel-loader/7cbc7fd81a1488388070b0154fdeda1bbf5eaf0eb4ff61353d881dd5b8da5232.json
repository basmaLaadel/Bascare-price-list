{"ast":null,"code":"/**\n * Converts Google Drive links to direct image URLs\n * If the URL is not from Google Drive, returns it as-is\n * @param {string} url - The image URL to check and convert\n * @returns {string} - The direct/usable image URL\n */\nexport const fixImageUrl = url => {\n  if (!url) return '';\n\n  // Check if it's a Google Drive link\n  if (url.includes('drive.google.com')) {\n    // Extract file ID from various Google Drive URL formats\n    let fileId;\n\n    // Format: https://drive.google.com/file/d/FILE_ID/view?usp=sharing\n    if (url.includes('/file/d/')) {\n      var _url$split$;\n      fileId = (_url$split$ = url.split('/file/d/')[1]) === null || _url$split$ === void 0 ? void 0 : _url$split$.split('/')[0];\n    }\n    // Format: https://drive.google.com/open?id=FILE_ID\n    else if (url.includes('?id=')) {\n      var _url$split$2;\n      fileId = (_url$split$2 = url.split('?id=')[1]) === null || _url$split$2 === void 0 ? void 0 : _url$split$2.split('&')[0];\n    }\n    // Format: https://drive.google.com/uc?id=FILE_ID\n    else if (url.includes('?id=')) {\n      fileId = url.split('?id=')[1];\n    }\n\n    // If we extracted a file ID, convert to direct download URL\n    if (fileId) {\n      return `https://drive.google.com/uc?export=view&id=${fileId}`;\n    }\n  }\n\n  // If not a Google Drive link or couldn't extract ID, return original URL\n  return url;\n};\n\n/**\n * Validates if a URL is accessible/valid format\n * @param {string} url - The URL to validate\n * @returns {boolean} - Whether the URL is valid\n */\nexport const isValidImageUrl = url => {\n  if (!url) return false;\n  try {\n    new URL(url);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\n/**\n * Gets a processed image URL (fixes Google Drive links and validates)\n * @param {string} url - The image URL to process\n * @returns {string} - The processed image URL or empty string if invalid\n */\nexport const getProcessedImageUrl = url => {\n  const fixedUrl = fixImageUrl(url);\n  return isValidImageUrl(fixedUrl) ? fixedUrl : '';\n};","map":{"version":3,"names":["fixImageUrl","url","includes","fileId","_url$split$","split","_url$split$2","isValidImageUrl","URL","error","getProcessedImageUrl","fixedUrl"],"sources":["/home/abdelrahman/Software_Journy/Projects/bascare/bascare-products/src/utils/imageUtil.js"],"sourcesContent":["/**\n * Converts Google Drive links to direct image URLs\n * If the URL is not from Google Drive, returns it as-is\n * @param {string} url - The image URL to check and convert\n * @returns {string} - The direct/usable image URL\n */\nexport const fixImageUrl = (url) => {\n  if (!url) return '';\n\n  // Check if it's a Google Drive link\n  if (url.includes('drive.google.com')) {\n    // Extract file ID from various Google Drive URL formats\n    let fileId;\n\n    // Format: https://drive.google.com/file/d/FILE_ID/view?usp=sharing\n    if (url.includes('/file/d/')) {\n      fileId = url.split('/file/d/')[1]?.split('/')[0];\n    }\n    // Format: https://drive.google.com/open?id=FILE_ID\n    else if (url.includes('?id=')) {\n      fileId = url.split('?id=')[1]?.split('&')[0];\n    }\n    // Format: https://drive.google.com/uc?id=FILE_ID\n    else if (url.includes('?id=')) {\n      fileId = url.split('?id=')[1];\n    }\n\n    // If we extracted a file ID, convert to direct download URL\n    if (fileId) {\n      return `https://drive.google.com/uc?export=view&id=${fileId}`;\n    }\n  }\n\n  // If not a Google Drive link or couldn't extract ID, return original URL\n  return url;\n};\n\n/**\n * Validates if a URL is accessible/valid format\n * @param {string} url - The URL to validate\n * @returns {boolean} - Whether the URL is valid\n */\nexport const isValidImageUrl = (url) => {\n  if (!url) return false;\n\n  try {\n    new URL(url);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\n/**\n * Gets a processed image URL (fixes Google Drive links and validates)\n * @param {string} url - The image URL to process\n * @returns {string} - The processed image URL or empty string if invalid\n */\nexport const getProcessedImageUrl = (url) => {\n  const fixedUrl = fixImageUrl(url);\n  return isValidImageUrl(fixedUrl) ? fixedUrl : '';\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMA,WAAW,GAAIC,GAAG,IAAK;EAClC,IAAI,CAACA,GAAG,EAAE,OAAO,EAAE;;EAEnB;EACA,IAAIA,GAAG,CAACC,QAAQ,CAAC,kBAAkB,CAAC,EAAE;IACpC;IACA,IAAIC,MAAM;;IAEV;IACA,IAAIF,GAAG,CAACC,QAAQ,CAAC,UAAU,CAAC,EAAE;MAAA,IAAAE,WAAA;MAC5BD,MAAM,IAAAC,WAAA,GAAGH,GAAG,CAACI,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,cAAAD,WAAA,uBAAxBA,WAAA,CAA0BC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAClD;IACA;IAAA,KACK,IAAIJ,GAAG,CAACC,QAAQ,CAAC,MAAM,CAAC,EAAE;MAAA,IAAAI,YAAA;MAC7BH,MAAM,IAAAG,YAAA,GAAGL,GAAG,CAACI,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,cAAAC,YAAA,uBAApBA,YAAA,CAAsBD,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC9C;IACA;IAAA,KACK,IAAIJ,GAAG,CAACC,QAAQ,CAAC,MAAM,CAAC,EAAE;MAC7BC,MAAM,GAAGF,GAAG,CAACI,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;IAC/B;;IAEA;IACA,IAAIF,MAAM,EAAE;MACV,OAAO,8CAA8CA,MAAM,EAAE;IAC/D;EACF;;EAEA;EACA,OAAOF,GAAG;AACZ,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMM,eAAe,GAAIN,GAAG,IAAK;EACtC,IAAI,CAACA,GAAG,EAAE,OAAO,KAAK;EAEtB,IAAI;IACF,IAAIO,GAAG,CAACP,GAAG,CAAC;IACZ,OAAO,IAAI;EACb,CAAC,CAAC,OAAOQ,KAAK,EAAE;IACd,OAAO,KAAK;EACd;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,oBAAoB,GAAIT,GAAG,IAAK;EAC3C,MAAMU,QAAQ,GAAGX,WAAW,CAACC,GAAG,CAAC;EACjC,OAAOM,eAAe,CAACI,QAAQ,CAAC,GAAGA,QAAQ,GAAG,EAAE;AAClD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}